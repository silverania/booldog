
{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en" >
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">
        <meta name="author" content="silverania">
        <title>{% trans 'Signup' %}</title>
        <link rel="stylesheet" href="{% static "node_modules/bootstrap/dist/css/bootstrap.css"%}">
        <link rel="stylesheet" href="{% static "css/all.min.css" %}">
        <link rel="stylesheet" href="{% static "css/blog.css" %}">
        <link rel="stylesheet" href="{% static "css/register.css" %}">
        <link rel="stylesheet" href="{% static "css/login.css"%}">
        <script  src="{% static 'node_modules/@popperjs/core/dist/umd/popper.js' %}"></script>
        <script  src="{% static 'node_modules/bootstrap/dist/js/bootstrap.js' %}"></script>
  <script  src="{% static 'js/jquery.min.js' %}"></script>
  <script  src="{% static 'js/blog.js' %}"></script>
<script  src="{% static 'js/login.js' %}"></script>
<script src="{% static "js/all.min.js"%}"></script>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/it_IT/sdk.js#xfbml=1&version=v14.0&appId=810115799892623&autoLogAppEvents=1" nonce="ZQl7gT5l">
  </script>
</head>
<div id="reg_container" class="container">
  <div class="kpx_login">
    {% if '/register/blog' in request.full_path %}<div class="row title">
      <div class="col-xs-12 col-6 text-center offset-sm-3 col-sm-6" style="margin-bottom:5%;">
        <!--hr class="kpx_hrOr"-->
        <!--span class="kpx_spanOr">{% trans 'Signup or' %}
        <a id="a_reg" href="{% if 'blog' in request.path %} /user/login/blog
        {% else %} /user/login {% endif %}"><span style="color:green;">Login</span></a></span-->
        <span class="kpx_spanOr">{% trans 'Login' %}
          <a id="a_reg"><span style="color:green;">{% trans 'Login' %}</span></a></span>
        </div>
      </div>{% endif %}
      <script type="text/javascript">
         $(document).ready(function () {
            htmlIframeWidthHeight(document.getElementById("reg_container"));
        });
        const params = new URLSearchParams(window.location.search);
        //document.getElementById("next").value = params.get('next');
        var r=document.getElementById("a_reg");
        r.href="/user/login/blog?next="+params.get('next');
      </script>
      <div class="row justify-content-center">
        <div class="col-12 text-center col-sm-6">
          {% if not 'blog' in request.path %}<hr class="kpx_hrOr"><br>{% endif %}
          <h2 align="center"class="title">{% trans 'Signup' %}</h2>
        </div>
      </div>

      <div class="row justify-content-center">
        <div class="col-xs-12 col-sm-6">

          <form method="post" enctype="multipart/form-data">
            <div class="form-group text-center">
              {% csrf_token %}
              {% for field in form %}
              {% if 'username' in field.name %}
              <label>{% trans 'Username:' %}</label>
              <p class="mt-1 mb-4">{{field}}</p>
              {% if field.errors %}  <p style="color:red;">{% trans 'Error entering username !' %} </p>
              {% endif %}
              
              {% elif 'password1' in field.name %}
               <label>{% trans 'Password:' %}</label>
              <p class="mt-1 mb-4">{{field}}</p>
               {% if field.errors %}  <p style="color:red;">{% trans 'Error entering password !' %} </p>
               {% endif %}

               {% elif 'email' in field.name %}
               <label>{% trans 'Email:' %}</label>
              <p class="mt-1 mb-4">{{field}}</p>
               {% if field.errors %}  <p style="color:red;">{% trans 'Error entering email !' %} </p>
               {% endif %}

                {% elif 'password2' in field.name %}
                <label>{% trans 'repeat Password:' %}</label>
                <p class="mt-1 mb-4">{{field}}</p>
                    {% if field.errors %}  <p style="color:red;">{% trans 'Error entering password !' %} </p>
                <script>setTimeout(() => { window.location.href = {% if 'blog' in request.path %} "/user/register/blog"
                  {% else %} "/user/register "{% endif %}},5000);</script>{% endif %}




                  {% elif 'website' in field.name %}
                  {% if 'blog' in request.path %} 
                  <small style="color: grey">{% trans 'Optional:' %}</small>
                   <label>{{field.label_tag}}</label>
                  {%else%}
                  <label>{{field.label_tag}}</label>
                  <small style="color: grey">{% trans 'The site you will be using Booldog on' %}</small>
                  {% endif %}
                 <p class="mt-1 mb-4">{{field}}</p>
                   {% if field.errors %}  <p style="color:red;">{% trans 'Error entering the Website !' %} </p>
                  <script>setTimeout(() => { window.location.href = "{% if 'blog' in request.path %} /user/register/blog
                {% else %} /user/register {% endif %} "},5000);</script>{% endif %}
                
                  {% elif 'Photo' in field.label_tag %}
                      <small style="color: grey">{% trans 'Optional:' %}</small>
                  <label>{{field.label_tag}}</label>
                  <p class="mt-1 mb-4">{{field}}</p>
                  {% if field.errors %}  <p style="color:red;">{% trans 'Error entering photo !' %} </p>{%endif%}


                 
                   
                   {% endif %}
                    {% endfor %}
                    <div >
                      <button style="width:60%" class="btn ms-5 btn-outline-primary "  type="submit">{% trans 'Signup me' %}</button>
                    </div></div>
                  </div>
                </div>
                <!--div class="row kpx_row-sm-offset-3">
                  <div class="col-xs-12 col-sm-3">
                    <p></p>
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" value="remember-me">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description">{% trans 'Remember me' %}</span>
                    </label>


                  </div>
                  <div class="col-xs-12 col-sm-3">
                    <p class="kpx_forgotPwd">
                      <a href="#">{% trans 'Forget Password ?' %}</a>
                    </p>
                  </div>
                </div-->
              </div>




            </div>
            <script>
              $(document).ready(function(){
                var login="{{ request.user.is_authenticated }}"
                $('[data-toggle="tooltip"]').tooltip()
              })
            </script>
</html>
